<div class="aside" tabindex="-1" role="dialog">
  <div class="asideBg">
    <form class="container-roleAside" ng-submit="roleAside.createRoleBtn()">
      <div class="custom-close" ng-click="$hide()"></div>
      <div class="asideTitle" ng-if="!roleAside.edit">Create role</div>
      <div class="asideTitle" ng-if="roleAside.edit">Edit role</div>

      <div class="form-group">
        <label>Name</label>
        <input type="text" class="custom-form"
               ng-model="roleAside.roleData.name" Required autofocus>
      </div>
      <div class="form-group">
        <!-- <label>Description (Max {{charRmnd}} characters)</label> -->
        <label>Description</label>
            <textarea  ng-model="roleAside.roleData.description"
                      ng-trim="1" rows="4"
                      class="custom-form-textarea"
              ></textarea>
      </div>

      <div class="form-group">
        <div ng-class="{'has-error': datepickerForm.date.$invalid}">
          <label class="control-label"><i class="fa fa-calendar"></i>Submission deadline</label>
          <input type='text'
                 class="custom-form" ng-model="selectedDate"
                 start-date="roleAside.startDate"
                 required bs-datepicker autoclose="true">
        </div>
      </div>

      <!-- <div class = "form-group">
          <div ng-class="{'has-error': timepickerForm.time.$invalid}">
          <label >End Time </label>
          <input type="text" class="custom-form"
                  ng-model="selectedTime" name="time" bs-timepicker>
          </div>
      </div>
      <div class = "form-group">
          <label>Location</label>
          <input type = "text" class = "custom-form"
                  ng-model = "roleAside.roleData.location">
      </div>
      <div class = "form-group">
      <label>Pay terms</label>
          <input type = "text" class = "custom-form"
                  ng-model = "roleAside.roleData.payterms">
      </div>
      <div class = "form-group">
      <label>Age</label>
          <input  type = "text"
                  class = "custom-form" ng-model = "roleAside.roleData.age">
      </div>
      <div class = "form-group">
          <label>Gender</label>
          <div class="custom-form" uib-dropdown is-open="false">
            <span uib-dropdown-toggle ng-disabled="disabled">{{roleAside.roleData.sex || "Sex"}}</span>
            <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
              <li role="menuitem"><a href="#" ng-click="roleAside.roleData.sex = 'Female'">Female</a></li>
              <li role="menuitem"><a href="#" ng-click="roleAside.roleData.sex = 'Male'">Male</a></li>
            </ul>
          </div>
      </div>  -->

      <label class="asideRequirementsTitle">Attachments</label>

      <div class="custom-table">
        <table class="table table-application-requirements"
               ng-show="!roleAside.gridView">
          <thead>
          <tr>
            <th>Name</th>
            <th></th>
            <!-- <th>Required</th> -->
            <th>Add</th>
          </tr>
          </thead>
          <tbody>
            <tr class="defaultRequirements" 
                ng-repeat="req in roleAside.roleData.requirements track by $index">
              <td><input type="text" ng-model="req.name" required></input>
                    <span class="requirementFormat" ng-if="req.format.indexOf('Link') != -1">
                    </span>
              </td>
              <!-- <td></td> -->
              <td>
                  <div class="switch">
                        <input id="{{cmn-toggle-$index}}" 
                              class="cmn-toggle cmn-toggle-round" 
                              type="checkbox" ng-model="req.required">
                        <label for="{{cmn-toggle-$index}}"></label>
                  </div>           
              </td>   
              <!-- <td >
                  <div class="checkbox-requirements">
                      <label><input type="checkbox" ng-model="req.selected"><span></span></label>
                  </div>   
              </td> -->
              <td ng-click="roleAside.removeReqt($index)">
                <img src="/assets/imgs/ic_trash.svg" width="16px" height="16px">
              </td>
            </tr>
          <!-- New Requirement -->
          <tr>
            <td>
                <div class="custom-form">
                    <input type="text" ng-model='roleAside.newData.name' placeholder="New requirement"></input>
                </div>
            </td>
            <td>
                <div class="switch">
                      <input id="{{cmn-toggle-$index}}" 
                            class="cmn-toggle cmn-toggle-round" 
                            type="checkbox" ng-model="roleAside.newData.required">
                      <label for="{{cmn-toggle-$index}}"></label>
                </div>           
            </td> 
            <!-- <td>
              <div class="custom-dropdown" uib-dropdown is-open="false">
                <span type="text" class="custom-form" uib-dropdown-toggle ng-disabled="disabled">
                  {{roleAside.newData.format || "Select"}}</span>
                <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
                  <li role="menuitem"><a href="#" ng-click="roleAside.newData.format = 'Link'">Link</a></li>
                  <li role="menuitem"><a href="#" ng-click="roleAside.newData.format = 'Attachment'">Attachment</a></li>
                </ul>
              </div> 
            </td> -->
            <td>
            </td>
            <td>
              <img src="/assets/imgs/ic_plus.svg" width="16px" height="16px" ng-click="roleAside.addReqt(roleAside.newData)">
            </td>
          </tr>
          </tbody>
        </table>
        <div ng-if="roleAside.processing" class="custom-loader">
          <img style ="height:40px; width:auto" ng-src='/assets/imgs/spin.gif'>
        </div>   
      <!-- <button ng-if="!roleAside.edit" type="submit" class="custom-btn-primary-large" ng-submit=".createRoleBtn()">Create role</button> -->
      <button ng-if="!roleAside.edit" type="submit" id="submit" value="Create role" class="custom-btn-primary-large" ng-disabled="roleAside.processing">
        Create role
      </button>
      <button ng-if="roleAside.edit" type="submit" class="custom-btn-primary-large" ng-click="roleAside.updateRole()" ng-disabled="roleAside.processing">
        Save
      </button>
      <span ng-if="roleAside.processing" class="spinner"><span class="glyphicon glypicon-repeat"></span></span>

    </form>
  </div>
</div>

