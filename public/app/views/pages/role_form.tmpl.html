<div class="aside" tabindex="-1" role="dialog">
    <form class="container-roleAside" ng-submit="roleAside.createRoleBtn()">
        <div class="custom-close" ng-click="$hide()"></div>
        <div class="asideTitle" ng-if="!roleAside.edit">Create role</div>
        <div class="asideTitle" ng-if="roleAside.edit">Edit role</div>
        
        <div class = "form-group">
            <label>Name</label>
            <input type = "text" class = "custom-form" 
                ng-model = "roleAside.roleData.name" Required 
                >
        </div>
        <div class="form-group">
            <label>Description (Max {{charRmnd}} characters)</label>
            <textarea rows="4" cols="40" maxlength="220" 
            ng-change="TAChange()"
            class = "custom-form-textarea" 
            ng-model = "roleAside.roleData.description"
            ></textarea>
        </div>
        
        <div class = "form-group">
           <div ng-class="{'has-error': datepickerForm.date.$invalid}">
                <label class="control-label"><i class="fa fa-calendar"></i>End Date</label>
                <input type='text' 
                    class="custom-form" ng-model = "selectedDate"
                    required bs-datepicker autoclose="true">
            </div>
        </div>
        <div class = "form-group">
            <div ng-class="{'has-error': timepickerForm.time.$invalid}">
            <label >End Time </label>
            <input type="text" class="custom-form" 
                    ng-model="selectedTime" name="time" bs-timepicker>
            </div>
        </div>        
        <div class = "form-group">
            <label>Location</label>
            <input type = "text" class = "custom-form" 
                    ng-model = "roleAside.roleData.location">
        </div>
        <div class = "form-group">
        <label>Pay terms</label>
            <input type = "text" class = "custom-form"
                    ng-model = "roleAside.roleData.payterms">
        </div>
        <div class = "form-group">
        <label>Age</label>
            <input  type = "text"
                    class = "custom-form" ng-model = "roleAside.roleData.age">
        </div>
        <div class = "form-group">
            <label>Sex</label>
            <div class="custom-form" uib-dropdown is-open="false">
              <span uib-dropdown-toggle ng-disabled="disabled">{{roleAside.roleData.sex || "Sex"}}</span>
              <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
                <li role="menuitem"><a href="#" ng-click="roleAside.roleData.sex = 'Female'">Female</a></li>
                <li role="menuitem"><a href="#" ng-click="roleAside.roleData.sex = 'Male'">Male</a></li>
              </ul>
            </div>
        </div>      
        
        <div class = "form-group">
            <label>Requirements</label>
            <div class="custom-table">
                <table class = "table table-application-requirements" ng-show="!roleAside.gridView">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Media Type</th>
                            <th>Required</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody> 
                        <!-- LOOP OVER THE USERS -->
                         <tr ng-repeat="reqt in roleAside.roleData.requirements track by $index">
                             <div><span>{{roleAside.roleData.requirements[$index]}}</span></div>
                             
                            <td>
                            <div uib-dropdown is-open="false">
                                    <input type="text" class="custom-form"  uib-dropdown-toggle ng-disabled="disabled" ng-model='roleAside.roleData.requirements[$index].name' placeholder="New">
                                    </input>
                                    <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
                                        <li role="menuitem"><a href="#" ng-click="roleAside.roleData.requirements[$index].name='Resume'" >Resume</a></li>
                                        <li role="menuitem"><a href="#"ng-click="roleAside.roleData.requirements[$index].name = 'Headshot'"
                                        >Headshot</a></li>
                                        <li role="menuitem"><a href="#" ng-click=" roleAside.roleData.requirements[$index].name = 'Reel'"
                                        >Reel</a></li>
                                        <li role="menuitem"><a href="#" ng-click="roleAside.roleData.requirements[$index].name = 'Youtube'" >Youtube</a></li>
                                    </ul>
                                </div>
                            </td>

                            <td ng-show="reqt">
                                <div class="custom-form" uib-dropdown is-open="false">
                                  <span uib-dropdown-toggle ng-disabled="disabled">{{roleAside.roleData.requirements[$index].file_type}}</span>
                                  <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
                                    
                                    <li role="menuitem"><a href="#" ng-click="roleAside.roleData.requirements[$index].file_type = 'link'">Link</a></li>

                                    <li role="menuitem"><a href="#" ng-click="roleAside.roleData.requirements[$index].file_type = 'image'">Image</a></li>

                                    <li role="menuitem"><a href="#" ng-click="roleAside.roleData.requirements[$index].file_type = 'video'">Video</a></li>

                                    <li role="menuitem"><a href="#" ng-click="roleAside.roleData.requirements[$index].file_type = 'document'">Document</a></li>

                                  </ul>
                                </div>
                            </td>

                            <td ng-show="reqt">                      
                                <input type="checkbox" class="btn btn-default" ng-model="reqt.required">
                            </td>

                            <td ng-show="reqt"><span class="btn large-btn" ng-click="roleAside.removeReqt($index)">Delete</span>
                            </td>
                        </tr>

                         <!-- New Requirement -->
                        <tr>
                            <td>
                                <div uib-dropdown is-open="false">
                                    <input type="text" class="custom-form"  uib-dropdown-toggle ng-disabled="disabled" ng-model='roleAside.newData.name' placeholder="New">
                                    </input>
                                    <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
                                        <li role="menuitem"><a href="#" ng-click="roleAside.newData.name='Resume'" >Resume</a></li>
                                        <li role="menuitem"><a href="#"ng-click="roleAside.newData.name = 'Headshot'"
                                        >Headshot</a></li>
                                        <li role="menuitem"><a href="#" ng-click=" roleAside.newData.name = 'Audition Reel'"
                                        >Reel</a></li>
                                        <li role="menuitem"><a href="#" ng-click="roleAside.newData.name = 'Youtube'" >Youtube</a></li>
                                    </ul>
                                </div>
                            </td>
                            <td>
                                <div uib-dropdown is-open="false">
                                   <span  type="text" class="custom-form"  uib-dropdown-toggle ng-disabled="disabled"
                                    >{{roleAside.newData.file_type || "File"}}</span>
                                  <ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
                                    <li role="menuitem"><a href="#" ng-click="roleAside.newData.file_type = 'link'">Link</a></li>
                                    <li role="menuitem"><a href="#" ng-click="roleAside.newData.file_type = 'image'">Image</a></li>
                                    <li role="menuitem"><a href="#" ng-click="roleAside.newData.file_type = 'video'">Video</a></li>
                                    <li role="menuitem"><a href="#" ng-click="roleAside.newData.file_type = 'document'">Document</a></li>
                                  </ul>
                                </div></td>
                            </td>
                            <td><input  type="checkbox" ng-model="roleAside.newData.required"
                               checked></td>
                            <td>
                                <span ng-click="roleAside.addReqt(roleAside.newData)">Add</span> 
                            </td>
                        </tr>
                    </tbody>    
                </table>    
            </div>
        </div>
            
        <!-- <button ng-if="!roleAside.edit" type="submit" class="custom-btn-primary-large" ng-submit=".createRoleBtn()">Create role</button> -->
        <button ng-if="!roleAside.edit" type="submit" id="submit" value="Create role" class="custom-btn-primary-large">Create role</button>
        <button ng-if="roleAside.edit" type="submit" class="custom-btn-primary-large" ng-click="roleAside.updateRole()">Save</button>

    </form>
    
</div>

