<div class="aside" tabindex="-1" role="dialog"
        flow-init="{target: '/upload'}"
      flow-files-added="aside.prepImgs( $files, $event, $flow)"
      flow-file-success="$files.msg = $message">
  <div class="asideBg">
    <div class="asideTitle">Add Applicant</div>
    <div type="button" class="custom-close" ng-click="$hide()"></div>
    <div class = "form-group">
        <label>First name<span></span></label>
        <input type="text" class="custom-form" ng-model="aside.newData.name.first" Required>
    </div>
    <div class = "form-group">
        <label>Last name<span class='required'></span></label>
        <input type="text" class="custom-form" ng-model="aside.newData.name.last" Required >
    </div>
    <div class = "form-group">
        <label>E-mail<span></span></label>
        <input type="text" class="custom-form" ng-model="aside.newData.email" Required >
    </div>   
    <div class = "form-group">
        <label>Phone number</label>
        <input type="tel" class="custom-form" ng-model="aside.newData.phone">
    </div>

    <div class = "form-group">
    <label>Agent name (if applicable)</label>
        <input type="text" class="custom-form" ng-model="aside.newData.agent">
    </div>


    <div class = "form-group">
    <label>Message/Links</label>
    <textarea ng-model="aside.newData.message" rows="5" class="custom-form-textarea"></textarea>  
    <!-- </textarea> -->
    </div>                                            

    <div class="form-group" ng-repeat="req in vm.role.requirements">
        <label>{{req.name}}
            <span class='required' ng-if="req.required"></span>
        </label>
        
        <attachment files=files>
            
        </attachment>
        
        <div class="clear"></div>
        <span flow-btn><p><a>Add files</a></span> or 
            <a href="#">Link</a></p>
            <ul>
                <li ng-repeat="file in $flow.files" >
                  <img ng-if="$flow.files.length > 0" flow-img="file" style="width:auto; height:20px; float:left"/>
                </li>
            </ul>
            <div class="clear"></div>
    <!-- NOTE: usering <input>, <a>, and <label> results in error; it forces another upload attempt -->
<!--
        <table>
         <tbody>
            <tr ng-repeat="req in vm.role.requirements track by $index">
                <td>
                    <label>{{req.name}}
                    <span class='required' ng-if="req.required"></span>
                    </label>
                </td>
                <td>
                    <span flow-btn><a>Add files</a></span> or 
                    <a href="#">Link</a> 
                    <input type="link" ng-show="vm.links[$index]">
                </td>
            </tr>
        </tbody>   
        </table>
-->
    </div>     
    <div ng-if="errors" class ="custom-alert" >
        <p>Whoops, the file format was invalid.</p>
        <p ng-if="errors.requirements"> {{errors.requirements.message}}</p>
    </div>
    
    <div ng-if="aside.message"  class ="custom-alert">
    {{ppv.message}}
    </div>   
    
    <div ng-show="aside.processing" class="custom-loader"><img style ="height:60px; width:auto"
    ng-src='/assets/imgs/spin.gif'></div>  

    <button type="submit" ng-show="!aside.processing" class="custom-btn-primary-large">Add</button>  
      
      
      
  </div>
</div>
